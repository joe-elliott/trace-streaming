// protoc -I pkg/blergpb/ pkg/blergpb/blerg.proto --go_out=plugins=grpc:pkg/blergpb

syntax="proto3";

package blergpb;

service SpanStream {
  rpc Tail(StreamRequest) returns (stream SpanResponse) {};
}

message StreamRequest {
    int32 requestedBatchSize = 1;
    int32 requestedRate = 2;
}

message SpanResponse {  
    int32 dropped = 1;
    repeated Span spans = 2;
}

message Span {
  string operationName = 1;
  int64 startTime = 2;
  int64 duration = 3;
}
